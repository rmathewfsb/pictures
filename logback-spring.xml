<?xml version="1.0" encoding="UTF-8"?>

<Configuration>

	<include resource="org/springframework/boot/logging/logback/defaults.xml" />
    <property name="LOG_PATTERN" value="%date %-5level [%logger] - %message%n%wEx" />
    
	<appender name="FILE" class="ch.qos.logback.core.rolling.RollingFileAppender">
		<file>${logs.dir}/pictures.log</file>
		<rollingPolicy class="ch.qos.logback.core.rolling.FixedWindowRollingPolicy">
			<fileNamePattern>${jboss.server.log.dir}/pictures-%i.log</fileNamePattern>
		</rollingPolicy>
		<triggeringPolicy class="ch.qos.logback.core.rolling.SizeBasedTriggeringPolicy">
			<maxFileSize>10MB</maxFileSize>
		</triggeringPolicy>
		<encoder>
			<pattern>${LOG_PATTERN}</pattern>
		</encoder>
	</appender>
    
    <springProfile name="local, dev , test">
		<logger name="com.fsb" level="DEBUG" additivity="false">
			<appender-ref ref="FILE" />
		</logger>
		<logger name="org.hibernate.SQL" level="DEBUG" additivity="false">
			<appender-ref ref="FILE" />
		</logger>
		<logger name="org.springframework.orm" level="DEBUG" additivity="false">
			<appender-ref ref="FILE" />
		</logger>
		<logger name="javax.persistence" level="DEBUG" additivity="false">
			<appender-ref ref="FILE" />
		</logger>
		<logger name="org.springframework.web" level="DEBUG" additivity="false">
			<appender-ref ref="FILE" />
		</logger>
		<logger name="org.springframework.security" level="DEBUG" additivity="false">
			<appender-ref ref="FILE" />
		</logger>		
		<Root level="INFO">
			<appender-ref ref="FILE" />
		</Root>
	</springProfile>

	<springProfile name="staging, prod">
		<logger name="com.fsb" level="WARN" additivity="false">
			<appender-ref ref="FILE" />
		</logger>
		<logger name="org.hibernate.SQL" level="WARN" additivity="false">
			<appender-ref ref="FILE" />
		</logger>
		<logger name="org.springframework.orm" level="WARN" additivity="false">
			<appender-ref ref="FILE" />
		</logger>
		<logger name="javax.persistence" level="WARN" additivity="false">
			<appender-ref ref="FILE" />
		</logger>
		<logger name="org.springframework.web" level="WARN" additivity="false">
			<appender-ref ref="FILE" />
		</logger>
		<Root level="WARN">
			<appender-ref ref="FILE" />
		</Root>
	</springProfile>
    
</Configuration>